var colores = new Array();
<% for color in @colores -%>
  colores.push(new Array(<%= color.marca_id %>, '<%=h color.nombre %>', <%= color.id %>));
<% end -%>

function marcaSelected(eliment) {
  marca_id = eliment.getValue();
  options = eliment.next().options;
  options.length = 1;
  colores.each(function(color) {
    if (color[0] == marca_id) {
      options[options.length] = new Option(color[1], color[2]);
    }
  });
  if (options.length == 1) {
    eliment.next().hide();
  } else {
    eliment.next().show();
  }
} 